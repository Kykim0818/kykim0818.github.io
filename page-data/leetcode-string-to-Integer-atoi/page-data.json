{"componentChunkName":"component---src-templates-post-template-tsx","path":"/leetcode-string-to-Integer-atoi/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h1>8. string to Integer-atoi</h1>\n<p><a href=\"https://leetcode.com/problems/string-to-integer-atoi/submissions/\" target=\"_blank\" rel=\"nofollow\">LeetCode - The World’s Leading Online Programming Learning Platform</a></p>\n<br/>\n<p><strong>Problem:</strong></p>\n<p>주어진 단계 별 처리 조건을 따라 String을 Integer로 변환 하는 문제</p>\n<br/>\n<p><strong>Constraints:</strong></p>\n<ul>\n<li>‘0 &#x3C;= s.length &#x3C;= 200’</li>\n<li>’s’ consists of English letters (lower-case and upper-case), digits (0-9), ’ ’, ’+’, ’-’, and ’.‘.</li>\n</ul>\n<p><strong>Example:</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Input: s = \"   -42\"\r\nOutput: -42\r\nExplanation:\r\nStep 1: \"   -42\" (leading whitespace is read and ignored)\r\n            ^\r\nStep 2: \"   -42\" ('-' is read, so the result should be negative)\r\n             ^\r\nStep 3: \"   -42\" (\"42\" is read in)\r\n               ^\r\nThe parsed integer is -42.\r\nSince -42 is in the range [-231, 231 - 1], the final result is -42.</code></pre></div>\n<h3><strong>풀이</strong></h3>\n<hr>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token number\">1</span>\r\nRead <span class=\"token keyword\">in</span> and ignore <span class=\"token builtin\">any</span> leading whitespace<span class=\"token punctuation\">.</span>\r\n\r\n<span class=\"token number\">2</span>\r\nCheck <span class=\"token keyword\">if</span> the next <span class=\"token function\">character</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">if</span> not already at the end <span class=\"token keyword\">of</span> the <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">is</span> <span class=\"token string\">'-'</span> or <span class=\"token string\">'+'</span><span class=\"token punctuation\">.</span> \r\nRead <span class=\"token keyword\">this</span> character <span class=\"token keyword\">in</span> <span class=\"token keyword\">if</span> it <span class=\"token keyword\">is</span> either<span class=\"token punctuation\">.</span> \r\nThis determines <span class=\"token keyword\">if</span> the final result <span class=\"token keyword\">is</span> negative or positive respectively<span class=\"token punctuation\">.</span> Assume the result <span class=\"token keyword\">is</span> positive <span class=\"token keyword\">if</span> neither <span class=\"token keyword\">is</span> present<span class=\"token punctuation\">.</span>\r\n\r\n<span class=\"token number\">3</span>\r\nRead <span class=\"token keyword\">in</span> next the characters until the next non<span class=\"token operator\">-</span>digit character or \r\nthe end <span class=\"token keyword\">of</span> the input <span class=\"token keyword\">is</span> reached<span class=\"token punctuation\">.</span> The rest <span class=\"token keyword\">of</span> the <span class=\"token builtin\">string</span> <span class=\"token keyword\">is</span> ignored<span class=\"token punctuation\">.</span>\r\n\r\n<span class=\"token number\">4</span>\r\nConvert these digits into an <span class=\"token function\">integer</span> <span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">.</span>e<span class=\"token punctuation\">.</span> <span class=\"token string\">\"123\"</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token number\">123</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"0032\"</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token number\">32</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span> \r\nIf no digits were read<span class=\"token punctuation\">,</span> then the integer <span class=\"token keyword\">is</span> <span class=\"token number\">0.</span> Change the sign <span class=\"token keyword\">as</span> <span class=\"token function\">necessary</span> <span class=\"token punctuation\">(</span>from step <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\r\n\r\n<span class=\"token number\">5</span>\r\nIf the integer <span class=\"token keyword\">is</span> out <span class=\"token keyword\">of</span> the <span class=\"token number\">32</span><span class=\"token operator\">-</span>bit signed integer range <span class=\"token punctuation\">[</span><span class=\"token operator\">-</span><span class=\"token number\">231</span><span class=\"token punctuation\">,</span> <span class=\"token number\">231</span> <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> then clamp the integer so that it remains <span class=\"token keyword\">in</span> the range<span class=\"token punctuation\">.</span> \r\nSpecifically<span class=\"token punctuation\">,</span> integers less than <span class=\"token operator\">-</span><span class=\"token number\">231</span> should be clamped to <span class=\"token operator\">-</span><span class=\"token number\">231</span><span class=\"token punctuation\">,</span> and integers greater than <span class=\"token number\">231</span> <span class=\"token operator\">-</span> <span class=\"token number\">1</span> should be clamped to <span class=\"token number\">231</span> <span class=\"token operator\">-</span> <span class=\"token number\">1.</span>\r\nReturn the integer <span class=\"token keyword\">as</span> the final result<span class=\"token punctuation\">.</span></code></pre></div>\n<p>javascript의 입장에서는, 자주 사용되는 내장 메소드만 잘 알고 있으면 해결이 쉬운 편 이라고 생각한다. + 영어 해석 ㅠ</p>\n<ol>\n<li>양 끝의 공백 제거</li>\n<li>마지막 글자가 아니라면, 첫 문자열이 ‘-’ 인지 ‘+’ 인지 확인, 그게 최종 숫자의 부호가 된다. 둘 다 없으면 기본 값은 양수</li>\n<li>중간에 숫자가 아닌 값이 나오면 거기까지만 숫자로 취급한다. 이후는 제거</li>\n<li>문자열을 숫자로 바꿔라 (타입 변환)</li>\n<li>만약 정수로 표현할 수 있는 최대 또는 최소 범위일 경우 넘는 경계 값을 반환해라</li>\n</ol>\n<p><strong>1차 실패</strong></p>\n<p>첫 글자가 부호가 없는 경우에는 처음부터 숫자인 부분을 놓침</p>\n<ul>\n<li>시작 인덱스 변수를 추가하여 , 첫 글자가 + , - 인지 체크하여, 있을 경우에 확인하는 시작 인덱스를 1 없을 경우에는 0으로 하여 수정</li>\n</ul>\n<p><strong>2차 실패</strong></p>\n<p>테스트 케이스 ” +0 123” 에서 중간 공백에 걸림</p>\n<p>공백을 숫자로 판단하여 숫자 변환 전 공백을 추가해 버려서 Number변환에서 NaN 처리 당했다.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">Number</span><span class=\"token punctuation\">(</span><span class=\"token string\">'0 123'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// NaN</span></code></pre></div>\n<ul>\n<li>숫자인지 확인하는 조건 앞에 문자열이 공백일 경우도 체크함</li>\n</ul>\n<p>3차 성공</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 512px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e3273423816f30a1fcd4c5ef196f86c7/06341/result.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 39.0625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABHUlEQVR42m1SiW7DIAzl//9wPaZJWQItSYEkXLneZHdFdJolS34+HvYTYts27PuO4zhQG2GqkVNMPa+4zr/wa16kkHDsRyGpm2KMSCkxzsvCmIhzzpwnI+x9KKSiGRW+bIu45EJKRkNa39HrHuu6IoSAEDwPzvMMP3t+oL6ICc2gMQwadnhgybmcQ4TGGFhrsfB2iTeh+EkeOEe967qVOTGcztDnM/THCVYquGnGOE7o+wGXyxXX6yceDwMlFW63O9ea5hta95imGc6Nby5c18EqBdu2iG5krWi7ECKsdRjdWLajE6n2jBNSyoxrF1FKxJtCkBK790UTKnZdC9lJ1pB1+61bY970q00kEjwlhJyxP9X99wvVwv/9EbX/ALFWbwsf59aRAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/e3273423816f30a1fcd4c5ef196f86c7/a59e9/result.webp 192w,\n/static/e3273423816f30a1fcd4c5ef196f86c7/0ca9f/result.webp 384w,\n/static/e3273423816f30a1fcd4c5ef196f86c7/2bf0f/result.webp 512w\"\n              sizes=\"(max-width: 512px) 100vw, 512px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/e3273423816f30a1fcd4c5ef196f86c7/3b721/result.png 192w,\n/static/e3273423816f30a1fcd4c5ef196f86c7/66595/result.png 384w,\n/static/e3273423816f30a1fcd4c5ef196f86c7/06341/result.png 512w\"\n            sizes=\"(max-width: 512px) 100vw, 512px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/e3273423816f30a1fcd4c5ef196f86c7/06341/result.png\"\n            alt=\"result\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<ul>\n<li>\n<p>해결 코드</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">myAtoi</span><span class=\"token punctuation\">(</span>s<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token comment\">// #1</span>\r\n  <span class=\"token comment\">// Read in and ignore any leading whitespace.</span>\r\n  <span class=\"token keyword\">let</span> ret <span class=\"token operator\">=</span> s<span class=\"token punctuation\">.</span><span class=\"token function\">trim</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token comment\">// #2</span>\r\n  <span class=\"token comment\">// Check if the next character (if not already at the end of the string) is '-' or '+'.</span>\r\n  <span class=\"token comment\">// Read this character in if it is either.</span>\r\n  <span class=\"token comment\">// This determines if the final result is negative or positive respectively.</span>\r\n  <span class=\"token comment\">// Assume the result is positive if neither is present.</span>\r\n  <span class=\"token keyword\">let</span> plus <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">let</span> startIdx <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>ret<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>ret<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">===</span> <span class=\"token string\">\"-\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n      plus <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\r\n      startIdx <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>ret<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">===</span> <span class=\"token string\">\"+\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n      startIdx <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n  <span class=\"token punctuation\">}</span>\r\n\r\n  <span class=\"token comment\">// #3</span>\r\n  <span class=\"token comment\">// Read in next the characters until the next non-digit character or the end of the input is reached.</span>\r\n  <span class=\"token comment\">// The rest of the string is ignored.</span>\r\n  <span class=\"token keyword\">let</span> tmpString <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> startIdx<span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> ret<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>ret<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">===</span> <span class=\"token string\">\"\"</span> <span class=\"token operator\">||</span> <span class=\"token function\">isNaN</span><span class=\"token punctuation\">(</span><span class=\"token function\">Number</span><span class=\"token punctuation\">(</span>ret<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\r\n    tmpString <span class=\"token operator\">=</span> tmpString<span class=\"token punctuation\">.</span><span class=\"token function\">concat</span><span class=\"token punctuation\">(</span>ret<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token punctuation\">}</span>\r\n\r\n  <span class=\"token comment\">// #4</span>\r\n  <span class=\"token comment\">// Convert these digits into an integer (i.e. \"123\" -> 123, \"0032\" -> 32).</span>\r\n  <span class=\"token comment\">// If no digits were read, then the integer is 0. Change the sign as necessary (from step 2).</span>\r\n  <span class=\"token keyword\">let</span> ans <span class=\"token operator\">=</span> <span class=\"token function\">Number</span><span class=\"token punctuation\">(</span>tmpString<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>plus <span class=\"token operator\">===</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span> ans <span class=\"token operator\">=</span> ans <span class=\"token operator\">*=</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token comment\">// #5</span>\r\n  <span class=\"token comment\">// If the integer is out of the 32-bit signed integer range [-2^31, 2^31 - 1],</span>\r\n  <span class=\"token comment\">// then clamp the integer so that it remains in the range.</span>\r\n  <span class=\"token comment\">// Specifically, integers less than -2^31 should be clamped to -2^31, and integers greater than 2^31 - 1 should be clamped to 2^31 - 1.</span>\r\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>ans <span class=\"token operator\">></span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">pow</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">31</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">pow</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">31</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>ans <span class=\"token operator\">&lt;</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span> <span class=\"token operator\">*</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">pow</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">31</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">pow</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">31</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\r\n\r\n  <span class=\"token keyword\">return</span> ans<span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n</ul>\n<h3><strong>Check Point</strong></h3>\n<hr>\n<ul>\n<li>String.trim() 의 경우, 앞뒤 공백을 제거한다.</li>\n<li>Number(’ ‘) 공백을 바꿀 경우 0 이 나온다. 그래서 Typescript에서 isNaN(Number(value)) 를 통해 숫자 인지 판단을 할 경우에, value에 ‘ ‘ 공백이 들어올 경우 숫자로 판단 해버린다. 주의 할 것</li>\n<li>JS에서 Number.MAX_SAFE_INTEGER 의 값은 2^32-1 이 아닌 2^53-1 이다.</li>\n<li>Math.pow 사용 시 순서대로 쓰면 된다.</li>\n</ul>","frontmatter":{"title":"[Leetcode] 8.String to Integer atoi","summary":"String to Integer atoi","date":"2023.09.17.","categories":["algorithm","leetcode"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAABEklEQVR42nXOz0vDMBQH8Jem2qVttpLSn9K1acGDIpUpHVMKThAqrSLOS1A8ieJF8OTBf17aMnGm+/AIL3lfeAGkIISU9lhTukIIYaysH9DfwC9Qt9hRVUXB2sjAGG/LgDaEkBEA3N1cP95fAoBOyGAMDAmlFGO8ODv//vp8bfZ91yZEN005aMBEwhhTVVUI8f728vF8NcsPdcO0LEtOgi1hjI3H1JzYT7eL+ljb1ciYUnsIeJscx4njOM/z+bw4OS0OjmZFUZRl6fu+J4G9TUEQZFlWVZUQomnq5fKiruvVwyqO4zAM/4VhKomiKAiC9heu6/lhv3M6BDhPEp50OO87nvCUpy2e8r5J21lX3Tzpbz/KvzTu1+aYNAAAAABJRU5ErkJggg=="},"images":{"fallback":{"src":"/static/0c435ab948b151fd834be55f80a09794/54d5b/leetcode.png","srcSet":"/static/0c435ab948b151fd834be55f80a09794/6f45c/leetcode.png 125w,\n/static/0c435ab948b151fd834be55f80a09794/4adbc/leetcode.png 250w,\n/static/0c435ab948b151fd834be55f80a09794/54d5b/leetcode.png 500w","sizes":"(min-width: 500px) 500px, 100vw"},"sources":[{"srcSet":"/static/0c435ab948b151fd834be55f80a09794/14a8e/leetcode.webp 125w,\n/static/0c435ab948b151fd834be55f80a09794/319a7/leetcode.webp 250w,\n/static/0c435ab948b151fd834be55f80a09794/5b66c/leetcode.webp 500w","type":"image/webp","sizes":"(min-width: 500px) 500px, 100vw"}]},"width":500,"height":260}},"publicURL":"/static/0c435ab948b151fd834be55f80a09794/leetcode.png"}}}}]}},"pageContext":{"slug":"/leetcode-string-to-Integer-atoi/"}},"staticQueryHashes":[],"slicesMap":{}}